<tool id="rp2paths" name="RP2paths" version="0.1">
  <description>Enumerate and seperate the different pathways generated by RetroPath2.0</description>
  <requirements>
		<requirement type="package">requests</requirement>
  </requirements>
	<stdio>
		<regex match="ERROR" level="error" source="both"/>
		<regex match="WARNING" level="warning" source="both"/>
	</stdio>
  <command detect_errors="exit_code"><![CDATA[
    '$__tool_directory__/tool_rp2paths.py' -rp2_pathways '$rp2_pathways' -rp2paths_pathways '$rp2paths_pathways' -rp2paths_compounds '$rp2paths_compounds' -timeout '$adv.timeout' -server_url '$adv.server_url'
  ]]></command>
  <inputs>
    <param name="rp2_pathways" type="data" format="csv" label="RetroPath2.0 pathways" />
    <section name="adv" title="Advanced Options" expanded="false">
			<param name="timeout" type="integer" value="30" label="Timeout (min)" />
			<param name="server_url" type="text" value="http://0.0.0.0:8887/REST" label="Server URL" />
    </section>
  </inputs>
  <outputs>
    <data name="rp2paths_pathways" format="csv" label="RP2Paths Pathways" />
    <data name="rp2paths_compounds" format="tsv" label="RP2paths Compounds" />
  </outputs>
  <help><![CDATA[
RP2paths
========

RP2paths extracts the set of pathways that lies in a metabolic space file output by the RetroPath2.0 workflow. The advanced options include a time out parameter in minutes to limit the execution time of the tool. Similar to the RetroPath2.0 node, an internal limit is set on RAM usage for this server version of the tool.


Input
-----

* **rp_results**\ : (string) Path to the ReatroPath2.0 pathways file

Advanced options: 


* **timeout**\ : (string, default: 30 minutes) Time out time of the tool
* **server_url**\ : (string) IP address of the rp2paths REST service

Output
------


* **out_paths**\ : (string) Path to the RP2paths pathways. Describes all the indiviudal enumerated pathways that produce the compound of interest.
* **out_compounds**\ : (string) Path to the RP2paths Compounds. Describes the structure of all the chemical species involved in all pathways.


Project Links
---------------------

* `GitHub <https://github.com/Galaxy-SynBioCAD/rp2paths>`_
* `Docker <https://hub.docker.com/r/brsynth/rp2paths>`_


Version
----------

0.1

Authors
-------


* **Melchior du Lac**
* Thomas Duigou
* Baudoin Delépine
* Pablo Carbonell

License
-------

`MIT <https://raw.githubusercontent.com/Galaxy-SynBioCAD/rp2paths/redis-dev/LICENSE>`_

Acknowledgments
---------------

* Joan Hérisson

]]></help>
  <citations>
    <citation type="bibtex">
@article{delepine2018retropath2,
  title={RetroPath2. 0: a retrosynthesis workflow for metabolic engineers},
  author={Del{\'e}pine, Baudoin and Duigou, Thomas and Carbonell, Pablo and Faulon, Jean-Loup},
  journal={Metabolic engineering},
  volume={45},
  pages={158--170},
  year={2018},
  publisher={Elsevier}}
    </citation>
  </citations>
</tool>
